<h2 mat-dialog-title>專案排序管理</h2>

<mat-dialog-content class="max-h-96 overflow-y-auto">
  <p class="text-gray-600 mb-4">拖拽專案來調整順序，或使用上下箭頭按鈕</p>
  
  <div cdkDropList (cdkDropListDropped)="onDrop($event)" class="space-y-2">
    <div *ngFor="let project of projects; let i = index" 
         cdkDrag
         class="flex items-center p-3 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow">
      
      <!-- 拖拽手柄 -->
      <div cdkDragHandle class="mr-3 text-gray-400 cursor-move">
        <mat-icon>drag_indicator</mat-icon>
      </div>
      
      <!-- 排序號碼 -->
      <div class="w-8 h-8 bg-blue-100 text-blue-800 rounded-full flex items-center justify-center text-sm font-medium mr-3">
        {{ i + 1 }}
      </div>
      
      <!-- 專案資訊 -->
      <div class="flex-1">
        <div class="font-medium text-gray-900">{{ project.project }}</div>
        <div class="text-sm text-gray-500">{{ project.system }}</div>
      </div>
      
      <!-- 操作按鈕 -->
      <div class="flex gap-1">
        <button mat-icon-button 
                (click)="moveUp(i)"
                [disabled]="i === 0"
                class="text-gray-600"
                matTooltip="上移">
          <mat-icon>keyboard_arrow_up</mat-icon>
        </button>
        <button mat-icon-button 
                (click)="moveDown(i)"
                [disabled]="i === projects.length - 1"
                class="text-gray-600"
                matTooltip="下移">
          <mat-icon>keyboard_arrow_down</mat-icon>
        </button>
      </div>
    </div>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end" class="p-4">
  <button mat-button (click)="onCancel()">取消</button>
  <button mat-raised-button color="primary" (click)="onSave()">
    儲存排序
  </button>
</mat-dialog-actions>